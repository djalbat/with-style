"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.contentFromQueryNodeAndTokens = contentFromQueryNodeAndTokens;
var _necessary = require("necessary");
var _constants = require("../constants");
var first = _necessary.arrayUtilities.first;
function contentFromQueryNodeAndTokens(query, node, tokens) {
    var content = null;
    var nodes = query.execute(node), nodesLength = nodes.length;
    if (nodesLength > 0) {
        var firstNode = first(nodes);
        node = firstNode; ///
        content = contentFromNodeAndTokens(node, tokens);
    }
    return content;
}
function contentFromNodeAndTokens(node, tokens) {
    var firstSignificantToken = node.getFirstSignificantToken(), lastSignificantToken = node.getLastSignificantToken(), firstToken = firstSignificantToken, lastToken = lastSignificantToken, firstTokenIndex = tokens.indexOf(firstToken), lastTokenIndex = tokens.indexOf(lastToken);
    var content = _constants.EMPTY_STRING;
    for(var index = firstTokenIndex; index <= lastTokenIndex; index++){
        var token = tokens[index], tokenContent = token.getContent();
        content += tokenContent;
    }
    return content;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvY29udGVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgYXJyYXlVdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XG5cbmltcG9ydCB7IEVNUFRZX1NUUklORyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuY29uc3QgeyBmaXJzdCB9ID0gYXJyYXlVdGlsaXRpZXM7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250ZW50RnJvbVF1ZXJ5Tm9kZUFuZFRva2VucyhxdWVyeSwgbm9kZSwgdG9rZW5zKSB7XG4gIGxldCBjb250ZW50ID0gbnVsbDtcblxuICBjb25zdCBub2RlcyA9IHF1ZXJ5LmV4ZWN1dGUobm9kZSksXG4gICAgICAgIG5vZGVzTGVuZ3RoID0gbm9kZXMubGVuZ3RoO1xuXG4gIGlmIChub2Rlc0xlbmd0aCA+IDApIHtcbiAgICBjb25zdCBmaXJzdE5vZGUgPSBmaXJzdChub2Rlcyk7XG5cbiAgICBub2RlID0gZmlyc3ROb2RlOyAvLy9cblxuICAgIGNvbnRlbnQgPSBjb250ZW50RnJvbU5vZGVBbmRUb2tlbnMobm9kZSwgdG9rZW5zKTtcbiAgfVxuXG4gIHJldHVybiBjb250ZW50O1xufVxuXG5mdW5jdGlvbiBjb250ZW50RnJvbU5vZGVBbmRUb2tlbnMobm9kZSwgdG9rZW5zKSB7XG4gIGNvbnN0IGZpcnN0U2lnbmlmaWNhbnRUb2tlbiA9IG5vZGUuZ2V0Rmlyc3RTaWduaWZpY2FudFRva2VuKCksXG4gICAgICAgIGxhc3RTaWduaWZpY2FudFRva2VuID0gbm9kZS5nZXRMYXN0U2lnbmlmaWNhbnRUb2tlbigpLFxuICAgICAgICBmaXJzdFRva2VuID0gZmlyc3RTaWduaWZpY2FudFRva2VuLCAvLy9cbiAgICAgICAgbGFzdFRva2VuID0gbGFzdFNpZ25pZmljYW50VG9rZW4sIC8vL1xuICAgICAgICBmaXJzdFRva2VuSW5kZXggPSB0b2tlbnMuaW5kZXhPZihmaXJzdFRva2VuKSxcbiAgICAgICAgbGFzdFRva2VuSW5kZXggPSB0b2tlbnMuaW5kZXhPZihsYXN0VG9rZW4pO1xuXG4gIGxldCBjb250ZW50ID0gRU1QVFlfU1RSSU5HO1xuXG4gIGZvciAobGV0IGluZGV4ID0gZmlyc3RUb2tlbkluZGV4OyBpbmRleCA8PSBsYXN0VG9rZW5JbmRleDsgaW5kZXgrKykge1xuICAgIGNvbnN0IHRva2VuID0gdG9rZW5zW2luZGV4XSxcbiAgICAgICAgICB0b2tlbkNvbnRlbnQgPSB0b2tlbi5nZXRDb250ZW50KCk7XG5cbiAgICBjb250ZW50ICs9IHRva2VuQ29udGVudDtcbiAgfVxuXG4gIHJldHVybiBjb250ZW50O1xufVxuIl0sIm5hbWVzIjpbImNvbnRlbnRGcm9tUXVlcnlOb2RlQW5kVG9rZW5zIiwiZmlyc3QiLCJhcnJheVV0aWxpdGllcyIsInF1ZXJ5Iiwibm9kZSIsInRva2VucyIsImNvbnRlbnQiLCJub2RlcyIsImV4ZWN1dGUiLCJub2Rlc0xlbmd0aCIsImxlbmd0aCIsImZpcnN0Tm9kZSIsImNvbnRlbnRGcm9tTm9kZUFuZFRva2VucyIsImZpcnN0U2lnbmlmaWNhbnRUb2tlbiIsImdldEZpcnN0U2lnbmlmaWNhbnRUb2tlbiIsImxhc3RTaWduaWZpY2FudFRva2VuIiwiZ2V0TGFzdFNpZ25pZmljYW50VG9rZW4iLCJmaXJzdFRva2VuIiwibGFzdFRva2VuIiwiZmlyc3RUb2tlbkluZGV4IiwiaW5kZXhPZiIsImxhc3RUb2tlbkluZGV4IiwiRU1QVFlfU1RSSU5HIiwiaW5kZXgiLCJ0b2tlbiIsInRva2VuQ29udGVudCIsImdldENvbnRlbnQiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7OztRQVFHQSw2QkFBNkIsR0FBN0JBLDZCQUE2QjtBQU5kLElBQUEsVUFBVyxXQUFYLFdBQVcsQ0FBQTtBQUViLElBQUEsVUFBYyxXQUFkLGNBQWMsQ0FBQTtBQUUzQyxJQUFNLEFBQUVDLEtBQUssR0FBS0MsVUFBYyxlQUFBLENBQXhCRCxLQUFLLEFBQW1CLEFBQUM7QUFFMUIsU0FBU0QsNkJBQTZCLENBQUNHLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxNQUFNLEVBQUU7SUFDakUsSUFBSUMsT0FBTyxHQUFHLElBQUksQUFBQztJQUVuQixJQUFNQyxLQUFLLEdBQUdKLEtBQUssQ0FBQ0ssT0FBTyxDQUFDSixJQUFJLENBQUMsRUFDM0JLLFdBQVcsR0FBR0YsS0FBSyxDQUFDRyxNQUFNLEFBQUM7SUFFakMsSUFBSUQsV0FBVyxHQUFHLENBQUMsRUFBRTtRQUNuQixJQUFNRSxTQUFTLEdBQUdWLEtBQUssQ0FBQ00sS0FBSyxDQUFDLEFBQUM7UUFFL0JILElBQUksR0FBR08sU0FBUyxDQUFDLENBQUMsR0FBRztRQUVyQkwsT0FBTyxHQUFHTSx3QkFBd0IsQ0FBQ1IsSUFBSSxFQUFFQyxNQUFNLENBQUMsQ0FBQztLQUNsRDtJQUVELE9BQU9DLE9BQU8sQ0FBQztDQUNoQjtBQUVELFNBQVNNLHdCQUF3QixDQUFDUixJQUFJLEVBQUVDLE1BQU0sRUFBRTtJQUM5QyxJQUFNUSxxQkFBcUIsR0FBR1QsSUFBSSxDQUFDVSx3QkFBd0IsRUFBRSxFQUN2REMsb0JBQW9CLEdBQUdYLElBQUksQ0FBQ1ksdUJBQXVCLEVBQUUsRUFDckRDLFVBQVUsR0FBR0oscUJBQXFCLEVBQ2xDSyxTQUFTLEdBQUdILG9CQUFvQixFQUNoQ0ksZUFBZSxHQUFHZCxNQUFNLENBQUNlLE9BQU8sQ0FBQ0gsVUFBVSxDQUFDLEVBQzVDSSxjQUFjLEdBQUdoQixNQUFNLENBQUNlLE9BQU8sQ0FBQ0YsU0FBUyxDQUFDLEFBQUM7SUFFakQsSUFBSVosT0FBTyxHQUFHZ0IsVUFBWSxhQUFBLEFBQUM7SUFFM0IsSUFBSyxJQUFJQyxLQUFLLEdBQUdKLGVBQWUsRUFBRUksS0FBSyxJQUFJRixjQUFjLEVBQUVFLEtBQUssRUFBRSxDQUFFO1FBQ2xFLElBQU1DLEtBQUssR0FBR25CLE1BQU0sQ0FBQ2tCLEtBQUssQ0FBQyxFQUNyQkUsWUFBWSxHQUFHRCxLQUFLLENBQUNFLFVBQVUsRUFBRSxBQUFDO1FBRXhDcEIsT0FBTyxJQUFJbUIsWUFBWSxDQUFDO0tBQ3pCO0lBRUQsT0FBT25CLE9BQU8sQ0FBQztDQUNoQiJ9